{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class TarefaService {\n  constructor() {}\n  listarTodos() {\n    const tarefas = localStorage['tarefas'];\n    return tarefas ? JSON.parse(tarefas) : [];\n  }\n  cadastrar(tarefa) {\n    const tarefas = this.listarTodos();\n    tarefa.id = new Date().getTime();\n    tarefas.push(tarefa);\n    localStorage['tarefas'] = JSON.stringify(tarefas);\n  }\n  buscarPorId(id) {\n    const tarefas = this.listarTodos();\n    return tarefas.find(tarefa => tarefa.id === id);\n  }\n  atualizar(tarefa) {\n    const tarefas = this.listarTodos();\n    tarefas.forEach((obj, index, objs) => {\n      if (tarefa.id === obj.id) {\n        objs[index] = tarefa;\n      }\n    });\n    localStorage['tarefas'] = JSON.stringify(tarefas);\n  }\n  remover(id) {\n    let tarefas = this.listarTodos();\n    tarefas = tarefas.filter(tarefa => tarefa.id !== id);\n    localStorage['tarefas'] = JSON.stringify(tarefas);\n  }\n  alterarStatus(id) {\n    const tarefas = this.listarTodos();\n    tarefas.forEach((obj, index, objs) => {\n      if (id === obj.id) {\n        objs[index].concluida = !obj.concluida;\n      }\n    });\n    localStorage['tarefas'] = JSON.stringify(tarefas);\n  }\n}\nTarefaService.ɵfac = function TarefaService_Factory(t) {\n  return new (t || TarefaService)();\n};\nTarefaService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: TarefaService,\n  factory: TarefaService.ɵfac\n});","map":{"version":3,"mappings":";AAKA,OAAM,MAAOA,aAAa;EAExBC,eAAgB;EAEhBC,WAAW;IACV,MAAMC,OAAO,GAAGC,YAAY,CAAC,SAAS,CAAC;IACvC,OAAOD,OAAO,GAAGE,IAAI,CAACC,KAAK,CAACH,OAAO,CAAC,GAAG,EAAE;EAC1C;EAEAI,SAAS,CAACC,MAAc;IACvB,MAAML,OAAO,GAAG,IAAI,CAACD,WAAW,EAAE;IAClCM,MAAM,CAACC,EAAE,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE;IAChCR,OAAO,CAACS,IAAI,CAACJ,MAAM,CAAC;IACpBJ,YAAY,CAAC,SAAS,CAAC,GAAGC,IAAI,CAACQ,SAAS,CAACV,OAAO,CAAC;EAClD;EAEAW,WAAW,CAACL,EAAU;IACpB,MAAMN,OAAO,GAAa,IAAI,CAACD,WAAW,EAAE;IAC5C,OAAOC,OAAO,CAACY,IAAI,CAACP,MAAM,IAAIA,MAAM,CAACC,EAAE,KAAKA,EAAE,CAAC;EACjD;EAEAO,SAAS,CAACR,MAAc;IACtB,MAAML,OAAO,GAAa,IAAI,CAACD,WAAW,EAAE;IAC5CC,OAAO,CAACc,OAAO,CAAC,CAACC,GAAG,EAAEC,KAAK,EAAEC,IAAI,KAAI;MACnC,IAAIZ,MAAM,CAACC,EAAE,KAAKS,GAAG,CAACT,EAAE,EAAE;QACxBW,IAAI,CAACD,KAAK,CAAC,GAAGX,MAAM;;IAExB,CAAC,CAAC;IACFJ,YAAY,CAAC,SAAS,CAAC,GAAGC,IAAI,CAACQ,SAAS,CAACV,OAAO,CAAC;EACnD;EAEAkB,OAAO,CAACZ,EAAU;IAChB,IAAIN,OAAO,GAAa,IAAI,CAACD,WAAW,EAAE;IAC1CC,OAAO,GAAGA,OAAO,CAACmB,MAAM,CAACd,MAAM,IAAIA,MAAM,CAACC,EAAE,KAAKA,EAAE,CAAC;IACpDL,YAAY,CAAC,SAAS,CAAC,GAAGC,IAAI,CAACQ,SAAS,CAACV,OAAO,CAAC;EACnD;EAEAoB,aAAa,CAACd,EAAU;IACtB,MAAMN,OAAO,GAAa,IAAI,CAACD,WAAW,EAAE;IAC5CC,OAAO,CAACc,OAAO,CAAC,CAACC,GAAG,EAAEC,KAAK,EAAEC,IAAI,KAAI;MACnC,IAAIX,EAAE,KAAKS,GAAG,CAACT,EAAE,EAAE;QACjBW,IAAI,CAACD,KAAK,CAAC,CAACK,SAAS,GAAG,CAACN,GAAG,CAACM,SAAS;;IAE1C,CAAC,CAAC;IACFpB,YAAY,CAAC,SAAS,CAAC,GAAGC,IAAI,CAACQ,SAAS,CAACV,OAAO,CAAC;EACnD;;AA7CWH,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;SAAbA,aAAa;EAAAyB,SAAbzB,aAAa;AAAA","names":["TarefaService","constructor","listarTodos","tarefas","localStorage","JSON","parse","cadastrar","tarefa","id","Date","getTime","push","stringify","buscarPorId","find","atualizar","forEach","obj","index","objs","remover","filter","alterarStatus","concluida","factory"],"sourceRoot":"","sources":["/home/persisti/Área de Trabalho/Angular/projetos/Gerenciador-de-tarefas/src/app/tarefas/shared/tarefa.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\nimport { Tarefa } from './';\n\n@Injectable()\nexport class TarefaService {\n\n  constructor() { }\n\n  listarTodos(): Tarefa[] {\n  \tconst tarefas = localStorage['tarefas'];\n  \treturn tarefas ? JSON.parse(tarefas) : [];\n  }\n\n  cadastrar(tarefa: Tarefa): void {\n  \tconst tarefas = this.listarTodos();\n  \ttarefa.id = new Date().getTime();\n  \ttarefas.push(tarefa);\n  \tlocalStorage['tarefas'] = JSON.stringify(tarefas);\n  }\n\n  buscarPorId(id: number): Tarefa {\n    const tarefas: Tarefa[] = this.listarTodos();\n    return tarefas.find(tarefa => tarefa.id === id);\n  }\n\n  atualizar(tarefa: Tarefa): void {\n    const tarefas: Tarefa[] = this.listarTodos();\n    tarefas.forEach((obj, index, objs) => { \n      if (tarefa.id === obj.id) {\n        objs[index] = tarefa;\n      }\n    });\n    localStorage['tarefas'] = JSON.stringify(tarefas);\n  }\n\n  remover(id: number): void {\n    let tarefas: Tarefa[] = this.listarTodos();\n    tarefas = tarefas.filter(tarefa => tarefa.id !== id);\n    localStorage['tarefas'] = JSON.stringify(tarefas);\n  }\n\n  alterarStatus(id: number): void {\n    const tarefas: Tarefa[] = this.listarTodos();\n    tarefas.forEach((obj, index, objs) => { \n      if (id === obj.id) {\n        objs[index].concluida = !obj.concluida;\n      }\n    });\n    localStorage['tarefas'] = JSON.stringify(tarefas);\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}